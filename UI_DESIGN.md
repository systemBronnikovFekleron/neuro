# UI Design - Bronnikov Exercise App

**Версия:** 1.0
**Дата:** 2026-02-04
**Статус:** Концепция и начало разработки

---

## Обзор

Графический интерфейс для приложения практики упражнений методики Бронникова с real-time мониторингом EEG-метрик.

### Принципы дизайна

1. **Минимализм** - фокус на упражнении, минимум отвлекающих элементов
2. **Real-time feedback** - мгновенная визуализация метрик мозга
3. **Интуитивность** - понятно без инструкций
4. **Спокойные цвета** - не напрягают во время медитации
5. **Адаптивность** - работает на разных разрешениях

---

## Технологический стек

### Выбранная технология: Qt 6 + QML

**Обоснование:**
- ✅ Кросс-платформенность (macOS, Windows, Linux)
- ✅ Modern declarative UI (QML)
- ✅ Отличная производительность для real-time графиков
- ✅ Интеграция с C++ кодом (используем существующий)
- ✅ QtCharts для графиков метрик
- ✅ Material Design компоненты

**Альтернативы (не выбраны):**
- ❌ Dear ImGui - слишком "техничный" вид
- ❌ Electron - избыточный размер и производительность
- ❌ Native (Cocoa/WinUI) - нет кросс-платформенности

---

## Структура экранов

### 1. Главный экран (Home Screen)

**Назначение:** Выбор упражнения и просмотр прогресса

**Компоненты:**
```
┌─────────────────────────────────────────────────────────────┐
│  [☰] Bronnikov Method                    [⚙️] [👤] [📊]    │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  📊 Ваш прогресс                                             │
│  ┌───────────────────────────────────────────────────────┐  │
│  │  Подготовительная ступень    [████████░░] 80%         │  │
│  │  15 сессий • Средний успех: 72%                       │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                               │
│  🎯 Выберите упражнение                                      │
│                                                               │
│  [Подготовительная ступень ▼]                                │
│                                                               │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐    │
│  │   0.1    │  │   0.2    │  │   0.3    │  │   0.4    │    │
│  │    ⚡     │  │    🔄     │  │    ✋     │  │    🌬️     │    │
│  │Энергети- │  │ Движение │  │  Лучи из │  │ Дыхание  │    │
│  │ческий    │  │  шара    │  │ пальцев  │  │ мыслью   │    │
│  │  шар     │  │          │  │          │  │          │    │
│  │ ⭐ Начни │  │ 10 мин   │  │  8 мин   │  │ 15 мин   │    │
│  │ здесь    │  │          │  │          │  │          │    │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘    │
│                                                               │
│  [Показать все упражнения →]                                 │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

**Элементы:**
- **Header:** Навигация, настройки, профиль, статистика
- **Progress Card:** Текущий прогресс по выбранной ступени
- **Stage Selector:** Dropdown для выбора ступени
- **Exercise Grid:** Карточки упражнений (4 в ряд)
- **Quick Stats:** Иконки достижений

### 2. Экран подготовки (Preparation Screen)

**Назначение:** Подключение к устройству, калибровка, инструкции

**Компоненты:**
```
┌─────────────────────────────────────────────────────────────┐
│  [←] Энергетический шар (0.1)                                │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  Шаг 1 из 3: Подключение к устройству                       │
│  [████████░░░░] 66%                                          │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐  │
│  │  🔌 Статус подключения                                 │  │
│  │                                                         │  │
│  │  ✓ Подключение к Capsule API                          │  │
│  │  ✓ Устройство найдено: NeiryBand                      │  │
│  │  ⏳ Создание EEG-сессии...                            │  │
│  │                                                         │  │
│  │  📊 Качество сигнала:                                  │  │
│  │     Канал 1: ████████░░ 80% (хорошо)                  │  │
│  │     Канал 2: ███████░░░ 70% (хорошо)                  │  │
│  │                                                         │  │
│  │  🔋 Батарея: 73%                                       │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                               │
│                      [Продолжить →]                          │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

**Этапы подготовки:**
1. **Подключение:** Поиск устройства, создание сессии
2. **Калибровка:** IAF определение (1-2 минуты)
3. **Инструкции:** Краткое описание упражнения

### 3. Экран упражнения (Exercise Screen)

**Назначение:** Выполнение упражнения с real-time мониторингом

**Компоненты:**
```
┌─────────────────────────────────────────────────────────────┐
│  [⏸️] Энергетический шар                         🔋 73%     │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  ┌─────────────┐                    ┌─────────────────────┐ │
│  │             │                    │ 📊 Метрики          │ │
│  │             │                    │                     │ │
│  │   Фаза 2    │                    │ Alpha   [████░] 68% │ │
│  │  Основная   │                    │ Beta    [███░░] 45% │ │
│  │             │                    │ Theta   [██░░░] 32% │ │
│  │   05:42     │                    │                     │ │
│  │   /10:00    │                    │ Концентр [████░] 72%│ │
│  │             │                    │ Релаксац [███░░] 58%│ │
│  │             │                    │                     │ │
│  │ [████░░░░░] │                    │ ❤️ 72 BPM           │ │
│  │    57%      │                    │                     │ │
│  │             │                    │ Success Rate        │ │
│  └─────────────┘                    │     [████░] 68%     │ │
│                                      └─────────────────────┘ │
│                                                               │
│  📝 Текущая инструкция:                                      │
│  ┌───────────────────────────────────────────────────────┐  │
│  │  Медленно сближайте и отдаляйте ладони, чувствуя     │  │
│  │  пространство между ними. Представьте упругий шар     │  │
│  │  энергии.                                              │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐  │
│  │  📈 Real-time график Alpha/Beta/Theta                 │  │
│  │                                                         │  │
│  │   1.0  ┌─────────────────────────────────────────┐    │  │
│  │        │     ╱╲    ╱╲                             │    │  │
│  │   0.5  │   ╱    ╲╱    ╲                          │    │  │
│  │        │ ╱              ╲      ╱╲                 │    │  │
│  │   0.0  └─────────────────────────────────────────┘    │  │
│  │         0s        30s         60s         90s          │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                               │
│               [⏸️ Пауза]  [⏹️ Завершить]                     │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

**Ключевые элементы:**
- **Таймер и прогресс:** Круговой индикатор с фазой
- **Метрики панель:** Real-time значения основных показателей
- **Инструкции:** Текущий шаг упражнения
- **График:** Визуализация Alpha/Beta/Theta за последние 2 минуты
- **Управление:** Пауза и завершение

### 4. Экран результатов (Results Screen)

**Назначение:** Анализ завершенной сессии

**Компоненты:**
```
┌─────────────────────────────────────────────────────────────┐
│  [✓] Сессия завершена                          [Поделиться]│
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  🎯 Энергетический шар (0.1)                                 │
│  📅 2026-02-04 07:45  •  ⏱️ 10:23  •  🔋 70%                 │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐  │
│  │               Success Rate: 68%                        │  │
│  │                                                         │  │
│  │                    ┌─────┐                             │  │
│  │                    │     │                             │  │
│  │              ┌─────┤ 68% ├─────┐                       │  │
│  │              │     │     │     │                       │  │
│  │         ┌────┴─────┴─────┴─────┴────┐                 │  │
│  │         0    25    50    75    100                     │  │
│  │                                                         │  │
│  │         🎯 Цель: 70%  (почти достигнута!)             │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                               │
│  📊 Детальные метрики                                        │
│  ┌──────────────┬──────────────┬──────────────┐            │
│  │ Alpha        │ Beta         │ Theta        │            │
│  │ +15% ✓       │ -8% ✓        │ +5%          │            │
│  │ [████░]      │ [███░░]      │ [██░░░]      │            │
│  └──────────────┴──────────────┴──────────────┘            │
│                                                               │
│  📈 Сравнение с предыдущими сессиями                        │
│  ┌───────────────────────────────────────────────────────┐  │
│  │  100%  ┌──────────────────────────────────────────┐   │  │
│  │        │                              ●            │   │  │
│  │   75%  │                         ●                 │   │  │
│  │        │                    ●                      │   │  │
│  │   50%  │              ●                            │   │  │
│  │        └──────────────────────────────────────────┘   │  │
│  │         Сессия 1  2    3    4    5 (текущая)          │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                               │
│  💾 Данные сохранены в базу                                 │
│  📄 CSV экспорт: session_20260204_074523.csv                │
│                                                               │
│         [🔄 Повторить]  [📊 Статистика]  [🏠 Главная]       │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

### 5. Экран статистики (Statistics Screen)

**Назначение:** Долгосрочный прогресс и аналитика

**Компоненты:**
```
┌─────────────────────────────────────────────────────────────┐
│  [←] Статистика и прогресс                                   │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  [Общее] [По упражнениям] [По ступеням] [Календарь]         │
│                                                               │
│  📊 Общая статистика                                         │
│  ┌─────────────────────────────────────────────────────┐    │
│  │  Всего сессий: 47        Всего часов: 8.5          │    │
│  │  Средний успех: 72%      Лучший результат: 89%     │    │
│  │  Дней подряд: 5 🔥       Первая сессия: 15.01.2026 │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                               │
│  📈 Прогресс по ступеням                                     │
│                                                               │
│  Подготовительная ступень                                    │
│  ┌──────────────────────────────────────────────────┐       │
│  │  8/10 освоено (80%)     [████████░░] 47 сессий  │       │
│  └──────────────────────────────────────────────────┘       │
│                                                               │
│  1-я ступень: Зрение вне глаз                               │
│  ┌──────────────────────────────────────────────────┐       │
│  │  0/25 освоено (0%)      [░░░░░░░░░░] 0 сессий   │       │
│  │  🔒 Откроется при освоении Подготовительной      │       │
│  └──────────────────────────────────────────────────┘       │
│                                                               │
│  📅 Календарь активности (последние 30 дней)                │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  Пн Вт Ср Чт Пт Сб Вс                                │   │
│  │  ░░ ██ ██ ░░ ██ ░░ ░░  (неделя 1)                   │   │
│  │  ██ ██ ░░ ██ ██ ██ ░░  (неделя 2)                   │   │
│  │  ░░ ██ ██ ██ ░░ ░░ ░░  (неделя 3, текущая)         │   │
│  │                                                       │   │
│  │  ██ - практика была  ░░ - практики не было          │   │
│  └──────────────────────────────────────────────────────┘   │
│                                                               │
│  🏆 Достижения                                               │
│  [🌟 Новичок] [🔥 Неделя подряд] [💯 Первые 100%]          │
│  [⚡ Энергетик] [🎯 Снайпер] [🏔️ На вершине]               │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

---

## Цветовая схема

### Светлая тема (по умолчанию)

**Основные цвета:**
- **Primary:** `#5E35B1` (Deep Purple 600) - фиолетовый для духовности
- **Secondary:** `#00ACC1` (Cyan 600) - спокойный голубой
- **Background:** `#FAFAFA` (Grey 50) - очень светлый серый
- **Surface:** `#FFFFFF` - белый
- **Text Primary:** `#212121` (Grey 900)
- **Text Secondary:** `#757575` (Grey 600)

**Акценты:**
- **Success:** `#43A047` (Green 600)
- **Warning:** `#FFA726` (Orange 400)
- **Error:** `#E53935` (Red 600)
- **Info:** `#29B6F6` (Light Blue 400)

**Метрики (градиенты):**
- **Alpha:** `#9C27B0` → `#E1BEE7` (Purple)
- **Beta:** `#2196F3` → `#BBDEFB` (Blue)
- **Theta:** `#4CAF50` → `#C8E6C9` (Green)
- **Concentration:** `#FF9800` → `#FFE0B2` (Orange)
- **Relaxation:** `#00BCD4` → `#B2EBF2` (Cyan)

### Темная тема

**Основные цвета:**
- **Primary:** `#7E57C2` (Deep Purple 400)
- **Secondary:** `#26C6DA` (Cyan 400)
- **Background:** `#121212` (почти черный)
- **Surface:** `#1E1E1E` (темно-серый)
- **Text Primary:** `#FFFFFF`
- **Text Secondary:** `#B0B0B0`

---

## Типографика

### Шрифты

**Основной:** Inter (или SF Pro на macOS)
- **Display:** 32-48px, Medium/Bold
- **Heading 1:** 28px, Medium
- **Heading 2:** 24px, Medium
- **Heading 3:** 20px, Medium
- **Body:** 16px, Regular
- **Caption:** 14px, Regular
- **Small:** 12px, Regular

**Моноширинный** (для метрик): JetBrains Mono
- **Metrics:** 18-24px, Medium

---

## Анимации и переходы

### Принципы

1. **Быстрые и отзывчивые** - 200-300ms для большинства
2. **Плавные** - easing curves (ease-in-out)
3. **Осмысленные** - анимации помогают понять структуру

### Ключевые анимации

**Переходы между экранами:**
- Duration: 300ms
- Easing: ease-in-out
- Effect: Slide + Fade

**Real-time метрики:**
- Duration: 150ms
- Easing: ease-out
- Effect: Scale + Color transition

**Графики:**
- Duration: 1000ms (для нового графика)
- Easing: ease-in-out
- Effect: Draw from left to right

**Прогресс-бары:**
- Duration: 500ms
- Easing: ease-out
- Effect: Fill animation

---

## Адаптивность

### Разрешения

**Минимальное:** 1280x720 (HD Ready)
**Рекомендуемое:** 1920x1080 (Full HD)
**Поддержка:** До 4K (3840x2160)

### Breakpoints

- **Small:** 1280-1440px - компактный режим
- **Medium:** 1441-1920px - стандартный режим
- **Large:** 1921px+ - расширенный режим с дополнительной информацией

---

## Интерактивные элементы

### Кнопки

**Primary Button:**
```
┌────────────────┐
│  [Начать] →    │
└────────────────┘
```
- Height: 48px
- Padding: 16px 24px
- Border radius: 8px
- Background: Primary color
- Hover: +10% brightness
- Active: -10% brightness

**Secondary Button:**
- Same size
- Background: transparent
- Border: 2px solid Primary
- Hover: Background = Primary 10% opacity

### Cards

**Exercise Card:**
```
┌──────────────┐
│    Icon      │
│  Exercise    │
│    Name      │
│  Duration    │
└──────────────┘
```
- Width: 200px (flexible)
- Height: 240px
- Border radius: 12px
- Shadow: elevation 2
- Hover: elevation 4 + scale 1.02

### Inputs

**Text Input:**
- Height: 48px
- Border: 1px solid Grey 300
- Border radius: 8px
- Focus: Border = Primary, width = 2px

---

## Иконки

### Стиль

**Набор:** Material Design Icons или Feather Icons
**Размеры:** 16px, 24px, 32px, 48px
**Стиль:** Outline (не filled) для консистентности

### Ключевые иконки

- **Упражнения:** ⚡ 🔄 ✋ 🌬️ 👁️ 🎯
- **Метрики:** 📊 📈 ❤️ 🧠 ⚖️
- **Действия:** ▶️ ⏸️ ⏹️ 🔄 ⚙️ 📤
- **Статус:** ✓ ✗ ⚠️ ℹ️ 🔋 📡

---

## Accessibility (Доступность)

### Контрастность

- **Текст на фоне:** минимум 4.5:1 (WCAG AA)
- **Крупный текст:** минимум 3:1
- **Интерактивные элементы:** минимум 3:1

### Keyboard Navigation

- Все интерактивные элементы доступны через Tab
- Видимый focus indicator (outline)
- Shortcuts для основных действий:
  - `Space` - пауза/возобновление
  - `Esc` - выход/отмена
  - `Enter` - подтверждение
  - `Ctrl+S` - статистика

### Screen Readers

- Правильные ARIA метки
- Alt текст для всех изображений
- Семантический HTML/QML

---

## Следующие шаги реализации

### Фаза 1: Базовая структура (1 неделя)
1. Настройка Qt 6 проекта
2. Создание QML компонентов
3. Интеграция с C++ backend
4. Базовая навигация между экранами

### Фаза 2: Главный экран (1 неделя)
1. Exercise cards
2. Stage selector
3. Progress indicator
4. Навигация

### Фаза 3: Экран упражнения (2 недели)
1. Real-time metrics display
2. QtCharts integration
3. Timer и progress
4. Instructions panel

### Фаза 4: Результаты и статистика (1 неделя)
1. Results screen
2. Statistics visualizations
3. Calendar widget
4. Achievements

### Фаза 5: Полировка (1 неделя)
1. Анимации и переходы
2. Темная тема
3. Настройки
4. Тестирование

**Общая оценка:** 6 недель активной разработки

---

## Mockups и прототипы

*TODO: Добавить скриншоты Figma прототипов*
*TODO: Добавить interactive prototype link*

---

## Технические требования

### Qt версия
- **Минимум:** Qt 6.5
- **Рекомендуется:** Qt 6.7+

### Модули Qt
- Qt Core
- Qt GUI
- Qt Quick (QML)
- Qt Charts
- Qt SVG (для иконок)

### Build система
- CMake 3.20+
- Обновить существующий CMakeLists.txt

---

## Заметки

- Дизайн ориентирован на медитативную практику - спокойные цвета, минимум движения
- Real-time обновление не должно отвлекать (smooth transitions)
- Возможность скрыть графики для полного погружения
- Звуковые сигналы опциональны (можно отключить)

